# Практична робота №4
Цей репозиторій cтворений для перегляду виконання практичної роботи №4 з дисципліни "Архітектура системного програмного забезпечення", виконане студентом Щур Р.І., групи ТВ-32.

## Завдання №1
Скільки пам’яті може виділити malloc(3) за один виклик?
Параметр malloc(3) є цілим числом типу даних size_t, тому логічно максимальне число, яке можна передати як параметр malloc(3), — це максимальне значення size_t на платформі (sizeof(size_t)). У 64-бітній Linux size_t становить 8 байтів, тобто 8 * 8 = 64 біти. Відповідно, максимальний обсяг пам’яті, який може бути виділений за один виклик malloc(3), дорівнює 2^64. Спробуйте запустити код на x86_64 та x86. Чому теоретично максимальний обсяг складає 8 ексабайт, а не 16?
## Виконання
![Pr4.1.png](Pr4.1.png)

Ліміт пам'яті залежить від обмежень віртуальної адресної пам'яті,тому навіть якщо size_t на  може зберігати значення 2^64, реальний обсяг пам'яті, який можна виділити , обмежений архітектурою та конфігурацією віртуальної адресної пам'яті операційної системи.

## Завдання №2
Що станеться, якщо передати malloc(3) від’ємний аргумент? Напишіть тестовий випадок, який обчислює кількість виділених байтів за формулою num = xa * xb. Що буде, якщо num оголошене як цілочисельна змінна зі знаком, а результат множення призведе до переповнення? Як себе поведе malloc(3)? Запустіть програму на x86_64 і x86.

## Виконання
![Pr4.2.png](Pr4.2.png)

Для виклику переповнення змінній було задано значення, яке перевищує INT_MAX. Програма на це відреагувала додаванням до мінімального значення, INT_MIN, різниці між результатом множення та INT_MAX. Саме тому результат множення вийшов від'ємним. Якщо ж передати це від'ємне значення malloc(3), то він не зможе виділити пам'ять і поверне NULL
## Завдання №3
Що станеться, якщо використати malloc(0)? Напишіть тестовий випадок, у якому malloc(3) повертає NULL або вказівник, що не є NULL, і який можна передати у free(). Відкомпілюйте та запустіть через ltrace. Поясніть поведінку програми.

## Виконання
![Pr4.3.png](Pr4.3.png)

Виходячи з результату виконання програми,як і очікувалось,адреси змінних стеку зменшуються з кожним рекурсивним викликом, вказуючи на те, що стек росте вниз у пам'яті.

## Завдання №4
Дослідити стек процесу або пригадати, як це робиться.

## Виконання
![Pr2.4.png](Pr2.4.png)

## Завдання №5
Відомо, що при виклику процедур і поверненні з них процесор
використовує стек.Чи можна в такій схемі обійтися без лічильника команд
(IP), використовуючи замість нього вершину стека? Обґрунтуйте свою
відповідь та наведіть приклади.

## Відповідь
Лічильник команд (IP) використовується для послідовного виконання коду. Стек не може замінити IP, оскільки він призначений для іншої мети і не містить інформації, необхідної для виконання коду.Припустимо, що стек використовується для керування адресами виконання. В такому випадку:
1)Перед виконанням кожної команди потрібно було б отримувати її адресу зі стека.
2)Після виконання кожної команди необхідно було б записувати адресу наступної команди
Тому використання стека замість лічильника команд (IP) є неефективним і складним.

## Завдання №6
Реалізуйте власний механізм розмітки пам’яті.

## Виконання
![PR2.6.png](PR2.6.png)
